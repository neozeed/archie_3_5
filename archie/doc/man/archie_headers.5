.\" Copyright (c) 1992,1994,1996 Bunyip Information Systems Inc.
.\" All rights reserved.  
.\"	
.\" Archie 3.5
.\" August 1996
.\"	
.\"	@(#)archie_headers.5
.\"
.TH ARCHIE_HEADERS 5 "August 1996"

.SH SYNOPSIS
.B Archie_headers
\- description of header format for the Archie 3.X system
.SH DESCRIPTION
.PP
From start to finish, every data file in the Archie Update Cycle begins
with an Archie "Header Record". This contains all the information
necessary for the various components to process the data obtained from
the Data Host. Much of the information transmitted in the header record
is ultimately stored in the Host databases at completion of the cycle and
the record is modified along the cycle to reflect the changing status of
the data.

The header is in ASCII format and is human readable regardless of the
format of the other data which may or may not follow it. In some cases,
the header itself contains the data necessary to complete the cycle.

All headers are delimited by a `@header_begin' string and terminated with
a `@header_end' which must start in the first column, that is, they must
be immediately preceeded by a NEWLINE character. The data itself starts
immediately after the final NEWLINE of the termination string. 

The following fields are used by the Archie system:
.TP
.B primary_hostname	
The primary hostname of the site to which the data belongs. These names
are used internally by the Archie system.
.TP
.B preferred_hostname	
The name under which users see this site listed.  It will be a valid
canonical name (CNAME) for that site.
.TB
.B generated_by
The component of the Archie system which has 
generated this header. Valid values are:
.RS
.RS
.TP
.B parser
Output from the parse phase
.TP
.B retrieve
Output from the data aquistion phase
.TP
.B server
Generated by the data retrieval phase
.TP
.B admin
Generated by an external administrative procedure
.TP
.B control
Generated by the controlling routines (usually after an error)
.RE
.RE
.TP
.B source_Archie_hostname
The name of the Archie host responsible for monitoring information at
this Data Host.
.TP
.B primary_ipaddr
The primary IP address of the Data Host used internally by the Archie
system.
.TP
.B access_methods
The name of the Archie database to which this data belongs. Eg, "anonftp"
(for anonymous ftp listings), "whois" (for a white pages service) etc.
.TP
.B access_command
The database-specific sequence of parameters used during the Data
Aquisition phase to perform the aquisition of the raw data from the Data
Host.
.TP
.B os_type
The operating system of the Data Host.
.TP
.B timezone
The timezone of the Data Host in signed seconds from GMT.
.TP
.B retrieve_time
The time of data aquistion from the data host.  This is written as
YYYYMMDDHHMMSS (year, month, day, hour, minute, second) and is always in
UTC (GMT).
.TP
.B parse_time
The time the data was parsed. Written in the same format as the
retrieve_time field.
.TP
.B update_time	
The time the data was updated. Written in the same format as the
retrieve_time field.
.TP
.B no_recs
The number of "records" in this data. For example, the value for a file
listing would be the number of files in the listing. This field may not
be appropriate for some databases and would not be used.
.TP
.B current_status
Lists the current status of the data host. This can be:
.RS
.RS
.TP
.B active
available to be queried and updated
.TP
.B inactive
temporarily disabled from the system
.TP
.B del_by_Archie
scheduled to be deleted. Usually means that the data in the system is 
out of date
.TP
.B del_by_admin
scheduled to be deleted by the local Archie administrator 
.TP
.B disabled
inactivated by the local Archie administrator
.TP
.B not_supported
Database type is not supported at this site
.RE
.RE
.TP
.B update_status
One of "fail" or "succeed". Used internally by the system to determine
result of the previous phase of the update.
.TP
.B prospero_host
One of "yes" or "no" depending on if the Prospero system is in operation
at that site.
.TP
.B data_name
In the case that the data aquisition phase of the update cycle generates
more than one data file, this field will contain a unique string
indentifying this particular data. For example, if wildcards were used
during data aquisition for a set of files, then data_name will be set to
the name of the particular file that is the source of the data.
.SH EXAMPLE
The following is an example of a header record:


.RS
.RS
.nf
\fC
@header_begin
generated_by server
source_Archie_hostname java.cc.mcgill.ca
primary_hostname acfcluster.nyu.edu
access_method anonftp
access_command :anonymous:
os_type vms_std
retrieve_time 19930404172308
no_recs 0
current_status active
update_status succeed
format raw
prospero_host no
data_name /pub/gnu/gcc.tar.Z
@header_end
[...data begins...]
\fP
.fi
.RE
.RE

.SH "SEE ALSO"
Archie System Manual
.SH AUTHOR
Bunyip Information Systems.
.br
Montr\o"\'e"al, Qu\o"\'e"bec, Canada
.sp
Archie is a registered trademark of Bunyip Information Systems Inc., Canada,
1990.
